<html>
<head>

	<script type="text/javascript" src="http://platform.linkedin.com/in.js">
 //  		api_key: 753p0qzm9kbapl
 //  		onLoad: onLinkedInLoad
 //  		authorize: true
	</script>

	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<link rel="stylesheet" type="text/css" href="assets/index.css">

	<title>Skills List</title>
</head>
<body>

<h1>What skills do you need for your dream job?</h1>

<script type="in/Login">
// Hello, <?js= firstName ?> <?js= lastName ?>.
// <img alt="<?js= headline ?>" src="<?js= pictureUrl ?>"></img>
</script>

I heard you wanted to be a Senior Software Engineer..

<svg class="chart"></svg>
	
	<script type="text/javascript">

		var obj = [
			{"skill": "OOP", "weight":0.1, match:true},
			{"skill": "Web Applications", "weight":0.2, match:true},
			{"skill_id": 18789, "skill": "Data-driven", "weight":0.3, match:true},
			{"skill_id": 22412, "skill": "Marin Software", "weight":0.8, match:true},
			{"skill_id": 44846, "skill": "Real World", "weight":0.7, match:true},
			{"skill_id": 2888, "skill": "Collaboration", "weight":0.4, match:true},
			{"skill_id": 989, "skill": "Trends", "weight":0.1, match:true},
			{"skill_id": 20080, "skill": "Design-Build", "weight":0.6, match:true},
			{"skill_id": 2498, "skill": "Unit Testing", "weight":0.9, match:true},
			{"skill_id": 18527, "skill": "Object-oriented Software", "weight":0.5, match:true},
			{"skill_id": 12584, "skill": "Collaborative Environment", "weight":0.1, match:false},
			{"skill_id": 19897, "skill": "Datasets", "weight":0.3, match:false},
			{"skill_id": 20097, "skill": "Software Engineers", "weight":0.1, match:false},
			{"skill_id": 1136, "skill": "Distributed Systems", "weight":0.2, match:false},
			{"skill_id": 18230, "skill": "Database Systems", "weight":0.6, match:false},
			{"skill_id": 1070, "skill": "Algorithms", "weight":0.1, match:false},
			{"skill_id": 1541, "skill": "Computer Science", "weight":0.9, match:false},
			{"skill_id": 242, "skill": "Software", "weight":0.1, match:false},
			{"skill_id": 17, "skill": "Engineers", "weight":0.3, match:false},
			{"skill_id": 10335, "skill": "Designing", "weight":0.4, match:false},
			{"skill_id": 672, "skill": "Code", "weight":0.7, match:false}];

		console.log(obj[0].skill);

		var width = 1000,
			height = 1000,
			margin = 20,
			circleRadius = 100,
			columnHeight = 100;


		// Function x which linearizes scale of data
		var x = d3.scale.linear()
			// set scale of domain and range
			// .domain([0, d3.max(data)])
			// .range([0, 420]);
		// var maxRadius = d3.max(data)*circleRadius;

		// Make chart
		var chart = d3.select(".chart")
			.attr("width", width)
			.attr("height", height);

		var bar = chart.selectAll("g")
			.data(obj)
			// make g tags within svg graphic and give it attribute for transformation after graphics inside the svg are drawn
			// <g transform="translate(50,50) >"
		  .enter().append("g")
		    .attr("transform", function(d, i){return "translate(" + margin + "," + (i*columnHeight + margin) + ")";});
		  	// .attr("transform", function(d, i){return "translate(0," + (i*barHeight) + ")";});

		// add rectangles to g objects
		bar.append("circle")
			.attr("cx", 0)
			.attr("cy", margin)
			// (d.match == true) ? .attr('class', 'circle_match') : .attr('class', 'circle_notMatch')

			.attr("r", 0)
			.transition()
			.attr("r", function(d){return d.weight*circleRadius})
			.duration(2000);

			// // add space between bars by subtracting height
			// .attr("height", barHeight-5) 


		bar.append("text")
			.attr("x", function(d){return d.weight*circleRadius+10;})
			.attr("y", columnHeight/2)
			.attr("dy", ".35em")
			
			.text(function(d){return d.skill;});

	</script>



</body>
</html>